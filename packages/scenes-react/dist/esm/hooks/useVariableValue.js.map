{"version":3,"file":"useVariableValue.js","sources":["../../../src/hooks/useVariableValue.ts"],"sourcesContent":["import { MultiValueVariable, SceneVariables, VariableValueSingle, sceneGraph } from '@grafana/scenes';\nimport { useSceneContext } from './hooks';\n\nexport function useVariableValue<T = VariableValueSingle>(name: string): [T | undefined, boolean] {\n  const scene = useSceneContext();\n  const variable = sceneGraph.lookupVariable(name, scene);\n\n  if (!variable || (variable instanceof MultiValueVariable && variable.state.isMulti === true)) {\n    return [undefined, false];\n  }\n\n  variable.useState();\n\n  const set = variable.parent as SceneVariables;\n  const isLoading = set.isVariableLoadingOrWaitingToUpdate(variable);\n  let value = variable.getValue();\n\n  if (value == null) {\n    return [undefined, isLoading];\n  }\n\n  return [value as T, isLoading];\n}\n"],"names":[],"mappings":";;;AAGO,SAAS,iBAA0C,IAAwC,EAAA;AAChG,EAAA,MAAM,QAAQ,eAAgB,EAAA,CAAA;AAC9B,EAAA,MAAM,QAAW,GAAA,UAAA,CAAW,cAAe,CAAA,IAAA,EAAM,KAAK,CAAA,CAAA;AAEtD,EAAA,IAAI,CAAC,QAAa,IAAA,QAAA,YAAoB,sBAAsB,QAAS,CAAA,KAAA,CAAM,YAAY,IAAO,EAAA;AAC5F,IAAO,OAAA,CAAC,QAAW,KAAK,CAAA,CAAA;AAAA,GAC1B;AAEA,EAAA,QAAA,CAAS,QAAS,EAAA,CAAA;AAElB,EAAA,MAAM,MAAM,QAAS,CAAA,MAAA,CAAA;AACrB,EAAM,MAAA,SAAA,GAAY,GAAI,CAAA,kCAAA,CAAmC,QAAQ,CAAA,CAAA;AACjE,EAAI,IAAA,KAAA,GAAQ,SAAS,QAAS,EAAA,CAAA;AAE9B,EAAA,IAAI,SAAS,IAAM,EAAA;AACjB,IAAO,OAAA,CAAC,QAAW,SAAS,CAAA,CAAA;AAAA,GAC9B;AAEA,EAAO,OAAA,CAAC,OAAY,SAAS,CAAA,CAAA;AAC/B;;;;"}