{"version":3,"file":"SceneObjectUrlSyncConfig.js","sources":["../../../src/services/SceneObjectUrlSyncConfig.ts"],"sourcesContent":["import { SceneObjectUrlSyncHandler, SceneObjectWithUrlSync, SceneObjectUrlValues } from '../core/types';\n\ninterface SceneObjectUrlSyncConfigOptions {\n  keys: string[] | (() => string[]);\n}\n\nexport class SceneObjectUrlSyncConfig implements SceneObjectUrlSyncHandler {\n  private _keys: string[] | (() => string[]);\n  private _nextChangeShouldAddHistoryStep = false;\n\n  public constructor(private _sceneObject: SceneObjectWithUrlSync, _options: SceneObjectUrlSyncConfigOptions) {\n    this._keys = _options.keys;\n  }\n\n  public getKeys(): string[] {\n    if (typeof this._keys === 'function') {\n      return this._keys();\n    }\n\n    return this._keys;\n  }\n\n  public getUrlState(): SceneObjectUrlValues {\n    return this._sceneObject.getUrlState();\n  }\n\n  public updateFromUrl(values: SceneObjectUrlValues): void {\n    this._sceneObject.updateFromUrl(values);\n  }\n\n  public performBrowserHistoryAction(callback: () => void) {\n    this._nextChangeShouldAddHistoryStep = true;\n    callback();\n    this._nextChangeShouldAddHistoryStep = false;\n  }\n\n  public shouldCreateHistoryStep(values: SceneObjectUrlValues): boolean {\n    return this._nextChangeShouldAddHistoryStep;\n  }\n}\n"],"names":[],"mappings":"AAMO,MAAM,wBAA8D,CAAA;AAAA,EAIlE,WAAA,CAAoB,cAAsC,QAA2C,EAAA;AAAjF,IAAA,IAAA,CAAA,YAAA,GAAA,YAAA,CAAA;AAF3B,IAAA,IAAA,CAAQ,+BAAkC,GAAA,KAAA,CAAA;AAGxC,IAAA,IAAA,CAAK,QAAQ,QAAS,CAAA,IAAA,CAAA;AAAA,GACxB;AAAA,EAEO,OAAoB,GAAA;AACzB,IAAI,IAAA,OAAO,IAAK,CAAA,KAAA,KAAU,UAAY,EAAA;AACpC,MAAA,OAAO,KAAK,KAAM,EAAA,CAAA;AAAA,KACpB;AAEA,IAAA,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,GACd;AAAA,EAEO,WAAoC,GAAA;AACzC,IAAO,OAAA,IAAA,CAAK,aAAa,WAAY,EAAA,CAAA;AAAA,GACvC;AAAA,EAEO,cAAc,MAAoC,EAAA;AACvD,IAAK,IAAA,CAAA,YAAA,CAAa,cAAc,MAAM,CAAA,CAAA;AAAA,GACxC;AAAA,EAEO,4BAA4B,QAAsB,EAAA;AACvD,IAAA,IAAA,CAAK,+BAAkC,GAAA,IAAA,CAAA;AACvC,IAAS,QAAA,EAAA,CAAA;AACT,IAAA,IAAA,CAAK,+BAAkC,GAAA,KAAA,CAAA;AAAA,GACzC;AAAA,EAEO,wBAAwB,MAAuC,EAAA;AACpE,IAAA,OAAO,IAAK,CAAA,+BAAA,CAAA;AAAA,GACd;AACF;;;;"}