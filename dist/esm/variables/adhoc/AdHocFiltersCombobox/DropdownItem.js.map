{"version":3,"file":"DropdownItem.js","sources":["../../../../../src/variables/adhoc/AdHocFiltersCombobox/DropdownItem.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Button, Checkbox, useStyles2 } from '@grafana/ui';\nimport React, { forwardRef, useId } from 'react';\n\ninterface DropdownItemProps {\n  children: React.ReactNode;\n  active?: boolean;\n  addGroupBottomBorder?: boolean;\n  isMultiValueEdit?: boolean;\n  checked?: boolean;\n}\n\nexport const DropdownItem = forwardRef<HTMLDivElement, DropdownItemProps & React.HTMLProps<HTMLDivElement>>(\n  function DropdownItem({ children, active, addGroupBottomBorder, isMultiValueEdit, checked, ...rest }, ref) {\n    const styles = useStyles2(getStyles);\n    const id = useId();\n    return (\n      <div\n        ref={ref}\n        role=\"option\"\n        id={id}\n        aria-selected={active}\n        className={cx(styles.option, active && styles.optionFocused, addGroupBottomBorder && styles.groupBottomBorder)}\n        {...rest}\n      >\n        <div className={styles.optionBody} data-testid={`data-testid ad hoc filter option value ${children}`}>\n          <span>\n            {isMultiValueEdit ? <Checkbox tabIndex={-1} checked={checked} className={styles.checkbox} /> : null}\n            {children}\n          </span>\n        </div>\n      </div>\n    );\n  }\n);\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  option: css({\n    label: 'grafana-select-option',\n    top: 0,\n    left: 0,\n    width: '100%',\n    position: 'absolute',\n    padding: theme.spacing(1),\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n    cursor: 'pointer',\n    '&:hover': {\n      background: theme.colors.action.hover,\n      '@media (forced-colors: active), (prefers-contrast: more)': {\n        border: `1px solid ${theme.colors.primary.border}`,\n      },\n    },\n  }),\n  optionFocused: css({\n    label: 'grafana-select-option-focused',\n    background: theme.colors.action.focus,\n    '@media (forced-colors: active), (prefers-contrast: more)': {\n      border: `1px solid ${theme.colors.primary.border}`,\n    },\n  }),\n  optionBody: css({\n    label: 'grafana-select-option-body',\n    display: 'flex',\n    fontWeight: theme.typography.fontWeightMedium,\n    flexDirection: 'column',\n    flexGrow: 1,\n  }),\n  groupBottomBorder: css({\n    borderBottom: `1px solid ${theme.colors.border.weak}`,\n  }),\n  checkbox: css({\n    paddingRight: theme.spacing(0.5),\n  }),\n  multiValueApplyWrapper: css({\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    display: 'flex',\n    backgroundColor: theme.colors.background.primary,\n    color: theme.colors.text.primary,\n    boxShadow: theme.shadows.z2,\n    overflowY: 'auto',\n    zIndex: theme.zIndex.dropdown,\n    gap: theme.spacing(1.5),\n    padding: `${theme.spacing(1.5)} ${theme.spacing(1)}`,\n  }),\n});\n\nexport const LoadingOptionsPlaceholder = () => {\n  return <DropdownItem onClick={(e) => e.stopPropagation()}>Loading options...</DropdownItem>;\n};\n\nexport const NoOptionsPlaceholder = () => {\n  return <DropdownItem onClick={(e) => e.stopPropagation()}>No options found</DropdownItem>;\n};\n\nexport const OptionsErrorPlaceholder = ({ handleFetchOptions }: { handleFetchOptions: () => void }) => {\n  return (\n    <DropdownItem onClick={handleFetchOptions}>An error has occurred fetching labels. Click to retry</DropdownItem>\n  );\n};\n\ninterface MultiValueApplyButtonProps {\n  onApply: () => void;\n  floatingElement: HTMLElement | null;\n  maxOptionWidth: number;\n  menuHeight: number;\n}\n\nexport const MultiValueApplyButton = ({ onApply, floatingElement, maxOptionWidth, menuHeight }: MultiValueApplyButtonProps) => {\n  const styles = useStyles2(getStyles);\n\n  const floatingElementRect = floatingElement?.getBoundingClientRect();\n  return (\n    <div\n      className={styles.multiValueApplyWrapper}\n      style={{\n        width: `${maxOptionWidth}px`,\n        transform: `translate(${floatingElementRect?.left}px,${floatingElementRect ? floatingElementRect.top + menuHeight : 0}px)`,\n      }}\n    >\n      <Button onClick={onApply} size=\"sm\" tabIndex={-1}>\n        Apply\n      </Button>\n    </div>\n  );\n};\n"],"names":["DropdownItem"],"mappings":"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"}