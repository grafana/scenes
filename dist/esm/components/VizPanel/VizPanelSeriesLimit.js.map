{"version":3,"file":"VizPanelSeriesLimit.js","sources":["../../../../src/components/VizPanel/VizPanelSeriesLimit.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport { GrafanaTheme2, PanelData } from '@grafana/data';\nimport { Button, Icon, Tooltip, useStyles2 } from '@grafana/ui';\nimport React from 'react';\n\nexport interface Props {\n  showAll?: boolean;\n  seriesLimit: number;\n  data?: PanelData;\n  onShowAllSeries: () => void;\n}\n\nexport function VizPanelSeriesLimit({ data, showAll, seriesLimit, onShowAllSeries }: Props) {\n  const styles = useStyles2(getStyles);\n  const seriesCount = data?.series.length;\n\n  if (seriesCount === undefined || seriesCount < seriesLimit) {\n    return null;\n  }\n\n  const buttonText = showAll ? 'Restore limit' : `Show all ${seriesCount}`;\n\n  return (\n    <div className={styles.timeSeriesDisclaimer}>\n      {!showAll && (\n        <span className={styles.warningMessage}>\n          <Icon title={`Showing only ${seriesLimit} series`} name=\"exclamation-triangle\" aria-hidden=\"true\" />\n        </span>\n      )}\n      <Tooltip\n        content={'Rendering too many series in a single panel may impact performance and make data harder to read.'}\n      >\n        <Button variant=\"secondary\" size=\"sm\" onClick={onShowAllSeries}>\n          {buttonText}\n        </Button>\n      </Tooltip>\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  timeSeriesDisclaimer: css({\n    label: 'time-series-disclaimer',\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1),\n  }),\n  warningMessage: css({\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(0.5),\n    color: theme.colors.warning.main,\n    fontSize: theme.typography.bodySmall.fontSize,\n  }),\n});\n"],"names":[],"mappings":";;;;AAYO,SAAS,oBAAoB,EAAE,IAAA,EAAM,OAAS,EAAA,WAAA,EAAa,iBAA0B,EAAA;AAC1F,EAAM,MAAA,MAAA,GAAS,WAAW,SAAS,CAAA,CAAA;AACnC,EAAM,MAAA,WAAA,GAAc,6BAAM,MAAO,CAAA,MAAA,CAAA;AAEjC,EAAI,IAAA,WAAA,KAAgB,KAAa,CAAA,IAAA,WAAA,GAAc,WAAa,EAAA;AAC1D,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAEA,EAAM,MAAA,UAAA,GAAa,OAAU,GAAA,eAAA,GAAkB,CAAY,SAAA,EAAA,WAAA,CAAA,CAAA,CAAA;AAE3D,EAAA,uBACG,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,IAAI,WAAW,MAAO,CAAA,oBAAA;AAAA,GACpB,EAAA,CAAC,2BACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAA,IAAK,WAAW,MAAO,CAAA,cAAA;AAAA,GAAA,kBACrB,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA;AAAA,IAAK,OAAO,CAAgB,aAAA,EAAA,WAAA,CAAA,OAAA,CAAA;AAAA,IAAsB,IAAK,EAAA,sBAAA;AAAA,IAAuB,aAAY,EAAA,MAAA;AAAA,GAAO,CACpG,mBAED,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAA,IACC,OAAS,EAAA,kGAAA;AAAA,GAAA,kBAER,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAA,IAAO,OAAQ,EAAA,WAAA;AAAA,IAAY,IAAK,EAAA,IAAA;AAAA,IAAK,OAAS,EAAA,eAAA;AAAA,GAC5C,EAAA,UACH,CACF,CACF,CAAA,CAAA;AAEJ,CAAA;AAEA,MAAM,SAAA,GAAY,CAAC,KAA0B,MAAA;AAAA,EAC3C,sBAAsB,GAAI,CAAA;AAAA,IACxB,KAAO,EAAA,wBAAA;AAAA,IACP,OAAS,EAAA,MAAA;AAAA,IACT,UAAY,EAAA,QAAA;AAAA,IACZ,GAAA,EAAK,KAAM,CAAA,OAAA,CAAQ,CAAC,CAAA;AAAA,GACrB,CAAA;AAAA,EACD,gBAAgB,GAAI,CAAA;AAAA,IAClB,OAAS,EAAA,MAAA;AAAA,IACT,UAAY,EAAA,QAAA;AAAA,IACZ,GAAA,EAAK,KAAM,CAAA,OAAA,CAAQ,GAAG,CAAA;AAAA,IACtB,KAAA,EAAO,KAAM,CAAA,MAAA,CAAO,OAAQ,CAAA,IAAA;AAAA,IAC5B,QAAA,EAAU,KAAM,CAAA,UAAA,CAAW,SAAU,CAAA,QAAA;AAAA,GACtC,CAAA;AACH,CAAA,CAAA;;;;"}