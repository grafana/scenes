{"version":3,"file":"SceneDebugger.js","sources":["../../../../src/components/SceneDebugger/SceneDebugger.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { CustomScrollbar, Drawer, ToolbarButton, useStyles2 } from '@grafana/ui';\nimport React, { useState } from 'react';\n\nimport { SceneObject } from '../../core/types';\nimport { DebugDetails } from './DebugDetails';\nimport { DebugTreeNode } from './DebugTreeNode';\n\nexport interface Props {\n  scene: SceneObject;\n}\n\n/**\n * @internal\n * Please don't use from plugins directly.\n * This is already exposed via SceneAppPage and the ?scene-debugger query parameter.\n *\n * This is only exported so that core dashboards can use it.\n */\nexport function SceneDebugger({ scene }: Props) {\n  const styles = useStyles2(getStyles);\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedObject, setSelectedObject] = useState<SceneObject>();\n\n  return (\n    <>\n      <ToolbarButton variant=\"canvas\" icon=\"bug\" onClick={() => setIsOpen(true)} />\n      {isOpen && (\n        <Drawer title=\"Scene debugger\" onClose={() => setIsOpen(false)} size=\"lg\">\n          <div className={styles.panes}>\n            <div className={styles.pane1}>\n              <div className={styles.paneHeading}>Scene graph</div>\n              <CustomScrollbar autoHeightMin={'100%'}>\n                <div className={styles.treeWrapper}>\n                  <DebugTreeNode node={scene} selectedObject={selectedObject} onSelect={setSelectedObject} />\n                </div>\n              </CustomScrollbar>\n            </div>\n            <div className={styles.pane2}>\n              <div className={styles.paneHeading}>Object details</div>\n              {selectedObject && <DebugDetails node={selectedObject} />}\n            </div>\n          </div>\n        </Drawer>\n      )}\n    </>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    panes: css({\n      flexGrow: 1,\n      display: 'flex',\n      height: '100%',\n      flexDirection: 'row',\n      marginTop: theme.spacing(-2),\n    }),\n    pane1: css({\n      flexGrow: 0,\n      display: 'flex',\n      height: '100%',\n      flexDirection: 'column',\n      borderRight: `1px solid ${theme.colors.border.weak}`,\n    }),\n    pane2: css({\n      flexGrow: 1,\n      display: 'flex',\n      minHeight: '100%',\n      flexDirection: 'column',\n      paddingLeft: theme.spacing(2),\n    }),\n    treeWrapper: css({\n      paddingRight: theme.spacing(2),\n      height: '100%',\n      marginLeft: theme.spacing(-1),\n    }),\n    paneHeading: css({\n      padding: theme.spacing(1, 0),\n      fontWeight: theme.typography.fontWeightMedium,\n    }),\n  };\n}\n"],"names":[],"mappings":"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"}