{"version":3,"file":"FieldConfigOverridesBuilder.js","sources":["../../../../src/core/PanelBuilders/FieldConfigOverridesBuilder.ts"],"sourcesContent":["import { FieldMatcherID, FieldType, FieldValueMatcherConfig } from '@grafana/data';\nimport { MatcherConfig } from '@grafana/schema';\nimport { getCompareSeriesRefId } from '../../utils/getCompareSeriesRefId';\nimport { StandardFieldConfigOverridesBuilder } from './StandardFieldConfigBuilders';\n\nexport class FieldConfigOverridesBuilder<TFieldConfig> extends StandardFieldConfigOverridesBuilder<\n  FieldConfigOverridesBuilder<TFieldConfig>\n> {\n  public match(matcher: MatcherConfig): this {\n    this._overrides.push({ matcher, properties: [] });\n    return this;\n  }\n\n  public matchFieldsWithName(name: string): this {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byName,\n\n        options: name,\n      },\n      properties: [],\n    });\n    return this;\n  }\n\n  public matchFieldsWithNameByRegex(regex: string): this {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byRegexp,\n        options: regex,\n      },\n      properties: [],\n    });\n    return this;\n  }\n\n  public matchFieldsByType(fieldType: FieldType): this {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byType,\n        options: fieldType,\n      },\n      properties: [],\n    });\n    return this;\n  }\n\n  public matchFieldsByQuery(refId: string): this {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byFrameRefID,\n        options: refId,\n      },\n      properties: [],\n    });\n    return this;\n  }\n\n  public matchFieldsByValue(options: FieldValueMatcherConfig): this {\n    this._overrides.push({\n      matcher: {\n        id: FieldMatcherID.byValue,\n        options,\n      },\n      properties: [],\n    });\n    return this;\n  }\n\n  public matchComparisonQuery(refId: string): this {\n    return this.matchFieldsByQuery(getCompareSeriesRefId(refId));\n  }\n\n  public overrideCustomFieldConfig<T extends TFieldConfig, K extends keyof T>(id: K, value: T[K]): this {\n    const _id = `custom.${String(id)}`;\n    const last = this._overrides[this._overrides.length - 1];\n    last.properties.push({ id: _id, value });\n    return this;\n  }\n\n  public build() {\n    return this._overrides;\n  }\n}\n"],"names":[],"mappings":";;;;AAKO,MAAM,oCAAkD,mCAE7D,CAAA;AAAA,EACO,MAAM,OAA8B,EAAA;AACzC,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA,EAAE,SAAS,UAAY,EAAA,IAAI,CAAA,CAAA;AAChD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEO,oBAAoB,IAAoB,EAAA;AAC7C,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA;AAAA,MACnB,OAAS,EAAA;AAAA,QACP,IAAI,cAAe,CAAA,MAAA;AAAA,QAEnB,OAAS,EAAA,IAAA;AAAA,OACX;AAAA,MACA,YAAY,EAAC;AAAA,KACd,CAAA,CAAA;AACD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEO,2BAA2B,KAAqB,EAAA;AACrD,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA;AAAA,MACnB,OAAS,EAAA;AAAA,QACP,IAAI,cAAe,CAAA,QAAA;AAAA,QACnB,OAAS,EAAA,KAAA;AAAA,OACX;AAAA,MACA,YAAY,EAAC;AAAA,KACd,CAAA,CAAA;AACD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEO,kBAAkB,SAA4B,EAAA;AACnD,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA;AAAA,MACnB,OAAS,EAAA;AAAA,QACP,IAAI,cAAe,CAAA,MAAA;AAAA,QACnB,OAAS,EAAA,SAAA;AAAA,OACX;AAAA,MACA,YAAY,EAAC;AAAA,KACd,CAAA,CAAA;AACD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEO,mBAAmB,KAAqB,EAAA;AAC7C,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA;AAAA,MACnB,OAAS,EAAA;AAAA,QACP,IAAI,cAAe,CAAA,YAAA;AAAA,QACnB,OAAS,EAAA,KAAA;AAAA,OACX;AAAA,MACA,YAAY,EAAC;AAAA,KACd,CAAA,CAAA;AACD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEO,mBAAmB,OAAwC,EAAA;AAChE,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA;AAAA,MACnB,OAAS,EAAA;AAAA,QACP,IAAI,cAAe,CAAA,OAAA;AAAA,QACnB,OAAA;AAAA,OACF;AAAA,MACA,YAAY,EAAC;AAAA,KACd,CAAA,CAAA;AACD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEO,qBAAqB,KAAqB,EAAA;AAC/C,IAAA,OAAO,IAAK,CAAA,kBAAA,CAAmB,qBAAsB,CAAA,KAAK,CAAC,CAAA,CAAA;AAAA,GAC7D;AAAA,EAEO,yBAAA,CAAqE,IAAO,KAAmB,EAAA;AACpG,IAAM,MAAA,GAAA,GAAM,CAAU,OAAA,EAAA,MAAA,CAAO,EAAE,CAAA,CAAA,CAAA,CAAA;AAC/B,IAAA,MAAM,IAAO,GAAA,IAAA,CAAK,UAAW,CAAA,IAAA,CAAK,WAAW,MAAS,GAAA,CAAA,CAAA,CAAA;AACtD,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA,EAAE,EAAI,EAAA,GAAA,EAAK,OAAO,CAAA,CAAA;AACvC,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEO,KAAQ,GAAA;AACb,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GACd;AACF;;;;"}